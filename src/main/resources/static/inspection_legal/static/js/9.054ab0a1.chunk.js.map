{"version":3,"sources":["services/rootUrl.js","services/client.js","views/pages/login/Login.js"],"names":["getRootUrl","cm_url","um_url","file_url","authLogin","username","password","rootUrl","axios","method","url","data","then","response","listStatuses","token","config","headers","Authorization","concat","get","listAssessmentbyId","id","Login","setUsername","useState","setPassword","userNameInvalid","setUsernameInvalid","passwordInvalid","setPasswordInvalid","history","useHistory","handleChange","event","name","target","val","value","store","useStore","auth","length","status","setLogin","push","NotificationManager","success","error","message","catch","err","console","log","_jsx","_Fragment","children","className","CContainer","CRow","CCol","md","lg","xl","_jsxs","CCard","CCardBody","CInputGroup","CInputGroupPrepend","CInputGroupText","CIcon","CInput","size","invalid","placeholder","onChange","onKeyDown","e","key","CInvalidFeedback","type","autoComplete","xs","CButton","color","onClick","CCardFooter","Link","to","style","marginLeft","marginRight"],"mappings":"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","file":"static/js/9.054ab0a1.chunk.js","sourcesContent":["import React from 'react'\n\nexport const getRootUrl = () => {\n  // const cm_url = \"http://172.16.200.17:31456/JedcoInspection/rest\";\n  // const um_url = \"http://172.16.200.17:31456/JedcoInspection/rest\";\n  // const file_url = \"http://172.16.200.17:31456\";\n  const cm_url = \"/JedcoInspection/rest\";\n  const um_url = \"/JedcoInspection/rest\";\n  const file_url = \"/JedcoInspection/rest\";\n  //   const cm_url = \"http://localhost:8080/JedcoInspection/rest\";\n  // const um_url = \"http://localhost:8080/JedcoInspection/rest\";\n    const url = {cm_url,um_url, file_url};\n    return url;\n  };\n","import { getRootUrl } from './rootUrl';\nimport axios from 'axios';\n\nexport function authLogin(username, password) {\n  const rootUrl = getRootUrl().um_url;\n  return axios({\n    method: 'post',\n    url: rootUrl + \"/auth/login\",\n    data: {\n      \"username\": username,\n      \"password\": password\n    }\n  }).then(response => response.data)\n}\n\nexport function listStatuses(token) {\n  const rootUrl = getRootUrl().um_url;\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n  return axios.get(\n    rootUrl + \"/statuses/getAllStatuses\",\n    config).then(response => response.data)\n}\n\nexport function listAssessmentbyId(token, id) {\n  const rootUrl = getRootUrl().um_url;\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n  return axios.get(\n    rootUrl + \"/assessment/listAssessmentsByInspection?inspectionId=\"+id,\n    config).then(response => response.data)\n}\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardFooter,\n  CCol,\n  CContainer,\n  CInput,\n  CInputGroup,\n  CInputGroupPrepend,\n  CInputGroupText,\n  CRow,\n  CInvalidFeedback\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport { authLogin } from '../../../services/client'\nimport { useStore } from '../../../MobxStore'\nimport { useHistory } from 'react-router-dom'\nimport { NotificationManager } from 'react-notifications';\n\n\nconst Login = () => {\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [userNameInvalid, setUsernameInvalid] = useState(false);\n  const [passwordInvalid, setPasswordInvalid] = useState(false);\n\n\n  const history = useHistory();\n\n\n  const handleChange = (event) => {\n\n    var name = event.target.name;\n    var val = event.target.value;\n\n    if (name == \"username\") {\n      setUsername(val);\n      if (val == \"\") {\n        setUsernameInvalid(true);\n      } else {\n        setUsernameInvalid(false);\n      }\n    }\n    if (name == \"password\") {\n      setPassword(val);\n      if (val == \"\") {\n        setPasswordInvalid(true);\n      } else {\n        setPasswordInvalid(false);\n      }\n    }\n  }\n\n\n  const store = useStore();\n  const auth = () => {\n    if (username.length == 0) {\n      setUsernameInvalid(true);\n    } else if (password.length == 0) {\n      setPasswordInvalid(true);\n    } else {\n      authLogin(username, password).then(response => {\n\n        // console.log(\"passed result \" + response.message);\n        if (response.status) {\n\n          store.setLogin(response);\n          history.push('/')\n          NotificationManager.success('Login Successful!', 'Success', 3000);\n\n        } else {\n          NotificationManager.error(response.message, 'Login Failed!', 3000);\n        }\n      })\n        .catch(err => {\n          console.log(err);\n          NotificationManager.error(\"Unable to try user login, check your connection\", 'Login Failed!', 3000);\n        });\n\n    }\n\n\n  }\n\n  return (\n    <>\n\n      <div className=\"c-app c-default-layout flex-row align-items-center\">\n        <CContainer>\n          <CRow className=\"justify-content-center\">\n            <CCol md=\"9\" lg=\"7\" xl=\"6\">\n              <CCard className=\"mx-4\">\n                <CCardBody className=\"p-4\">\n                  <h1>Login</h1>\n                  <p className=\"text-muted\">Enter your username and password</p>\n\n                  <CInputGroup className=\"mb-3\" >\n                    <CInputGroupPrepend>\n                      <CInputGroupText>\n                        <CIcon name=\"cil-user\" />\n                      </CInputGroupText>\n\n                    </CInputGroupPrepend>\n                    <CInput\n                      id=\"username\"\n                      size=\"large\"\n                      name=\"username\"\n                      invalid={userNameInvalid}\n                      value={username}\n                      placeholder=\"Username\"\n                      onChange={handleChange}\n                      onKeyDown={(e) => {\n                        if (e.key === 'Enter') {\n                          auth();\n                        }\n                      }}\n                    />\n                    <CInvalidFeedback className=\"help-block\">\n                      Please provide a valid username\n                  </CInvalidFeedback>\n\n                  </CInputGroup>\n                  <CInputGroup className=\"mb-3\">\n                    <CInputGroupPrepend>\n                      <CInputGroupText>\n                        <CIcon name=\"cil-lock-locked\" />\n                      </CInputGroupText>\n                    </CInputGroupPrepend>\n                    <CInput\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      autoComplete=\"new-password\"\n                      name=\"password\"\n                      value={password}\n                      invalid={passwordInvalid}\n                      onChange={handleChange}\n                      onKeyDown={(e) => {\n                        if (e.key === 'Enter') {\n                          auth();\n                        }\n                      }}\n                    />\n                    <CInvalidFeedback className=\"help-block\">\n                      Please provide a valid password\n                  </CInvalidFeedback>\n                  </CInputGroup>\n\n                  <CRow>\n                  <CCol xs=\"6\" className=\"text-left\">\n                        <CButton color=\"link\" className=\"px-0\">Forgot password?</CButton>\n                      </CCol>\n                      <CCol xs=\"6\">\n                      <div className=\"d-flex justify-content-end\" md=\"6\">\n                    <button\n                      type=\"submit\"\n                      className=\"btn btn-outline-success m-2 btn-md\"\n                      onClick={auth}\n                    >Login\n                          </button>\n                  </div>\n                      </CCol>\n\n                    </CRow>\n\n                </CCardBody>\n                <CCardFooter>\n                <CRow>\n                      <CCol xs=\"4\">\n\n                      </CCol>\n                      <CCol xs=\"8\" className=\"text-right\">Not Registered yet?\n                      <Link to=\"/register\">\n                        <CButton color=\"link\" className=\"px-0\" style={{marginLeft:10, marginRight:10}}> Register here</CButton>\n                        </Link>\n                      </CCol>\n                    </CRow>\n                </CCardFooter>\n              </CCard>\n            </CCol>\n          </CRow>\n        </CContainer>\n      </div>\n\n\n    </>\n  )\n}\n\nexport default Login\n"],"sourceRoot":""}